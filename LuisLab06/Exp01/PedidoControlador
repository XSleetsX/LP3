package LuisLab06;
import java.util.List;

public class PedidoControlador {
	private PedidoModelo modelo;
	private PedidoVista vista;
	
	public PedidoControlador(PedidoModelo modelo, PedidoVista vista) {
		this.modelo = modelo;
		this.vista = vista;
	}
	public void agregarPedido(String nombrePlato, String tipoPlato) {
		if(!nombrePlato.isEmpty()) {
			modelo.agregarPedido(new Pedido(nombrePlato, tipoPlato));
			vista.mostrarMensaje("Pedido agregado: " + nombrePlato);
		} else {
			vista.mostrarMensaje("El nombre del plato no puede estar vacío");
		}
	}
	public void eliminarPedido(String nombrePlato) {
		if(!nombrePlato.isEmpty()) {
			modelo.eliminarPedido(nombrePlato);
			vista.mostrarMensaje("Pedido eliminado con éxito.");
		} else {
			vista.mostrarMensaje("Debe llenar con un nombre o tipo de un pedido.");
		}
	}
	public void actualizarPedido(String nombrePlato, String nuevoNombre) {
		if(!nombrePlato.isEmpty() || !nuevoNombre.isEmpty()) {
			modelo.actualizarPedido(nombrePlato, nuevoNombre);
			vista.mostrarMensaje("Pedido: " + nombrePlato + ", actualizado a: " + nuevoNombre + " con éxito.");
		} else {
			vista.mostrarMensaje("Alguno de los dos espacios está vacío.");
		}
	}
	public void buscarPedido(String nombrePlato) {
		if(!nombrePlato.isEmpty()) {
			if (modelo.buscarPedido(nombrePlato) == true) {
				vista.mostrarMensaje("Pedido encontrado.");
			} else {
				vista.mostrarMensaje("Pedido no encontrado.");
			}
		} else {
			vista.mostrarMensaje("Alguno de los dos espacios está vacío.");
		}
	}
	public void contarPedidos() {
		vista.mostrarMensaje("Cantidad total de pedidos: " + modelo.contarPedidos());
	}
	public void mostrarPedidos() {
		List<Pedido> pedidos = modelo.getPedidos();
		vista.mostrarPedidos(pedidos);
	}
	public void iniciar() {
		String opcion;
		do {
			vista.mostrarMenu();
			opcion = vista.solicitarOpcion();
			switch (opcion) {
				case "1": {
					String nombrePlato = vista.solicitarNombrePlato();
					String tipoPlato = vista.solicitarTipoPlato();
					agregarPedido(nombrePlato, tipoPlato);
					break;
				}
				case "2": {
					String nombrePlato = vista.solicitarNombrePlato();
					eliminarPedido(nombrePlato);
					break;
				}
				case "3": {
					String nombrePlato = vista.solicitarNombrePlato();
					String nuevoNombre = vista.solicitarNuevoNombre();
					actualizarPedido(nombrePlato, nuevoNombre);
					break;
				}
				case "4": {
					String nombrePlato = vista.solicitarNombrePlato();
					buscarPedido(nombrePlato);
					break;
				}
				case "5": {
					contarPedidos();
					break;
				}
				case "6": {
					mostrarPedidos();
					break;
				}
				case "7": {
					vista.mostrarMensaje("Saliendo...");
					break;
				}
				default:
					vista.mostrarMensaje("Opción no válida. Inténtalo de nuevo.");
			}
		} while (!opcion.equals("3"));
		vista.cerrarScanner();
	}
}
